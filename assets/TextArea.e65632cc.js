import{u as e,v as t,bL as r,a8 as n,a9 as a,q as o,c as i,_ as s,ac as l,al as u,Z as c,w as p,H as d,ad as f,ak as v,a1 as h,ax as m,bM as x,bN as b,x as g,bO as y,E as w,F as z,A as C,a6 as A,a2 as E,C as S}from"./vendor.20bd6f23.js";function N(r,n,a,o,i){var s;return e(r,(t(s={},"".concat(r,"-sm"),"small"===a),t(s,"".concat(r,"-lg"),"large"===a),t(s,"".concat(r,"-disabled"),o),t(s,"".concat(r,"-rtl"),"rtl"===i),t(s,"".concat(r,"-borderless"),!n),s))}function I(e){return!!(e.prefix||e.suffix||e.allowClear)}var k=r("text","input");function R(e){return!(!e.addonBefore&&!e.addonAfter)}var T=function(r){n(p,r);var c=a(p);function p(){var e;return o(this,p),(e=c.apply(this,arguments)).containerRef=i.exports.createRef(),e.onInputMouseUp=function(t){var r;if(null===(r=e.containerRef.current)||void 0===r?void 0:r.contains(t.target)){var n=e.props.triggerFocus;null==n||n()}},e}return s(p,[{key:"renderClearIcon",value:function(r){var n,a=this.props,o=a.allowClear,s=a.value,u=a.disabled,c=a.readOnly,p=a.handleReset,d=a.suffix;if(!o)return null;var f=!u&&!c&&s,v="".concat(r,"-clear-icon");return i.exports.createElement(l,{onClick:p,onMouseDown:function(e){return e.preventDefault()},className:e((n={},t(n,"".concat(v,"-hidden"),!f),t(n,"".concat(v,"-has-suffix"),!!d),n),v),role:"button"})}},{key:"renderSuffix",value:function(e){var t=this.props,r=t.suffix,n=t.allowClear;return r||n?i.exports.createElement("span",{className:"".concat(e,"-suffix")},this.renderClearIcon(e),r):null}},{key:"renderLabeledIcon",value:function(r,n){var a,o=this.props,s=o.focused,l=o.value,c=o.prefix,p=o.className,d=o.size,f=o.suffix,v=o.disabled,h=o.allowClear,m=o.direction,x=o.style,b=o.readOnly,g=o.bordered,y=this.renderSuffix(r);if(!I(this.props))return u(n,{value:l});var w=c?i.exports.createElement("span",{className:"".concat(r,"-prefix")},c):null,z=e("".concat(r,"-affix-wrapper"),(t(a={},"".concat(r,"-affix-wrapper-focused"),s),t(a,"".concat(r,"-affix-wrapper-disabled"),v),t(a,"".concat(r,"-affix-wrapper-sm"),"small"===d),t(a,"".concat(r,"-affix-wrapper-lg"),"large"===d),t(a,"".concat(r,"-affix-wrapper-input-with-clear-btn"),f&&h&&l),t(a,"".concat(r,"-affix-wrapper-rtl"),"rtl"===m),t(a,"".concat(r,"-affix-wrapper-readonly"),b),t(a,"".concat(r,"-affix-wrapper-borderless"),!g),t(a,"".concat(p),!R(this.props)&&p),a));return i.exports.createElement("span",{ref:this.containerRef,className:z,style:x,onMouseUp:this.onInputMouseUp},w,u(n,{style:null,value:l,className:N(r,g,d,v)}),y)}},{key:"renderInputWithLabel",value:function(r,n){var a,o=this.props,s=o.addonBefore,l=o.addonAfter,c=o.style,p=o.size,d=o.className,f=o.direction;if(!R(this.props))return n;var v="".concat(r,"-group"),h="".concat(v,"-addon"),m=s?i.exports.createElement("span",{className:h},s):null,x=l?i.exports.createElement("span",{className:h},l):null,b=e("".concat(r,"-wrapper"),v,t({},"".concat(v,"-rtl"),"rtl"===f)),g=e("".concat(r,"-group-wrapper"),(t(a={},"".concat(r,"-group-wrapper-sm"),"small"===p),t(a,"".concat(r,"-group-wrapper-lg"),"large"===p),t(a,"".concat(r,"-group-wrapper-rtl"),"rtl"===f),a),d);return i.exports.createElement("span",{className:g,style:c},i.exports.createElement("span",{className:b},m,u(n,{style:null}),x))}},{key:"renderTextAreaWithClearIcon",value:function(r,n){var a,o=this.props,s=o.value,l=o.allowClear,c=o.className,p=o.style,d=o.direction,f=o.bordered;if(!l)return u(n,{value:s});var v=e("".concat(r,"-affix-wrapper"),"".concat(r,"-affix-wrapper-textarea-with-clear-btn"),(t(a={},"".concat(r,"-affix-wrapper-rtl"),"rtl"===d),t(a,"".concat(r,"-affix-wrapper-borderless"),!f),t(a,"".concat(c),!R(this.props)&&c),a));return i.exports.createElement("span",{className:v,style:p},u(n,{style:null,value:s}),this.renderClearIcon(r))}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,r=e.inputType,n=e.element;return r===k[0]?this.renderTextAreaWithClearIcon(t,n):this.renderInputWithLabel(t,this.renderLabeledIcon(t,n))}}]),p}(i.exports.Component);function F(e){return null==e?"":e}function O(e,t,r,n){if(r){var a=t,o=e.value;return"click"===t.type?((a=Object.create(t)).target=e,a.currentTarget=e,e.value="",r(a),void(e.value=o)):void 0!==n?((a=Object.create(t)).target=e,a.currentTarget=e,e.value=n,void r(a)):void r(a)}}function P(e,t){if(e){e.focus(t);var r=(t||{}).cursor;if(r){var n=e.value.length;switch(r){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(n,n);break;default:e.setSelectionRange(0,n)}}}}var V=function(r){n(u,r);var l=a(u);function u(r){var n;o(this,u),(n=l.call(this,r)).direction="ltr",n.focus=function(e){P(n.input,e)},n.saveClearableInput=function(e){n.clearableInput=e},n.saveInput=function(e){n.input=e},n.onFocus=function(e){var t=n.props.onFocus;n.setState({focused:!0},n.clearPasswordValueAttribute),null==t||t(e)},n.onBlur=function(e){var t=n.props.onBlur;n.setState({focused:!1},n.clearPasswordValueAttribute),null==t||t(e)},n.handleReset=function(e){n.setValue("",(function(){n.focus()})),O(n.input,e,n.props.onChange)},n.renderInput=function(r,a,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=n.props,u=l.className,d=l.addonBefore,f=l.addonAfter,v=l.size,h=l.disabled,m=c(n.props,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","inputType","bordered"]);return i.exports.createElement("input",p({autoComplete:s.autoComplete},m,{onChange:n.handleChange,onFocus:n.onFocus,onBlur:n.onBlur,onKeyDown:n.handleKeyDown,className:e(N(r,o,v||a,h,n.direction),t({},u,u&&!d&&!f)),ref:n.saveInput}))},n.clearPasswordValueAttribute=function(){n.removePasswordTimeout=setTimeout((function(){n.input&&"password"===n.input.getAttribute("type")&&n.input.hasAttribute("value")&&n.input.removeAttribute("value")}))},n.handleChange=function(e){n.setValue(e.target.value,n.clearPasswordValueAttribute),O(n.input,e,n.props.onChange)},n.handleKeyDown=function(e){var t=n.props,r=t.onPressEnter,a=t.onKeyDown;r&&13===e.keyCode&&r(e),null==a||a(e)},n.renderComponent=function(e){var t=e.getPrefixCls,r=e.direction,a=e.input,o=n.state,s=o.value,l=o.focused,u=n.props,c=u.prefixCls,f=u.bordered,v=void 0===f||f,h=t("input",c);return n.direction=r,i.exports.createElement(d.Consumer,null,(function(e){return i.exports.createElement(T,p({size:e},n.props,{prefixCls:h,inputType:"input",value:F(s),element:n.renderInput(h,e,v,a),handleReset:n.handleReset,ref:n.saveClearableInput,direction:r,focused:l,triggerFocus:n.focus,bordered:v}))}))};var a=void 0===r.value?r.defaultValue:r.value;return n.state={value:a,focused:!1,prevValue:r.value},n}return s(u,[{key:"componentDidMount",value:function(){this.clearPasswordValueAttribute()}},{key:"componentDidUpdate",value:function(){}},{key:"getSnapshotBeforeUpdate",value:function(e){return I(e)!==I(this.props)&&f(this.input!==document.activeElement,"Input","When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ"),null}},{key:"componentWillUnmount",value:function(){this.removePasswordTimeout&&clearTimeout(this.removePasswordTimeout)}},{key:"blur",value:function(){this.input.blur()}},{key:"setSelectionRange",value:function(e,t,r){this.input.setSelectionRange(e,t,r)}},{key:"select",value:function(){this.input.select()}},{key:"setValue",value:function(e,t){void 0===this.props.value?this.setState({value:e},t):null==t||t()}},{key:"render",value:function(){return i.exports.createElement(v,null,this.renderComponent)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.prevValue,n={prevValue:e.value};return void 0===e.value&&r===e.value||(n.value=e.value),n}}]),u}(i.exports.Component);V.defaultProps={type:"text"};var D=V,M=function(e){n(r,e);var t=a(r);function r(){var e;return o(this,r),(e=t.apply(this,arguments)).resizeObserver=null,e.childNode=null,e.currentElement=null,e.state={width:0,height:0,offsetHeight:0,offsetWidth:0},e.onResize=function(t){var r=e.props.onResize,n=t[0].target,a=n.getBoundingClientRect(),o=a.width,i=a.height,s=n.offsetWidth,l=n.offsetHeight,u=Math.floor(o),c=Math.floor(i);if(e.state.width!==u||e.state.height!==c||e.state.offsetWidth!==s||e.state.offsetHeight!==l){var p={width:u,height:c,offsetWidth:s,offsetHeight:l};e.setState(p),r&&Promise.resolve().then((function(){r(h(h({},p),{},{offsetWidth:s,offsetHeight:l}),n)}))}},e.setChildNode=function(t){e.childNode=t},e}return s(r,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){if(this.props.disabled)this.destroyObserver();else{var e=m(this.childNode||this);e!==this.currentElement&&(this.destroyObserver(),this.currentElement=e),!this.resizeObserver&&e&&(this.resizeObserver=new x(this.onResize),this.resizeObserver.observe(e))}}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var e=this.props.children,t=b(e);if(t.length>1)g(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(0===t.length)return g(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var r=t[0];if(i.exports.isValidElement(r)&&y(r)){var n=r.ref;t[0]=i.exports.cloneElement(r,{ref:w(n,this.setChildNode)})}return 1===t.length?t[0]:t.map((function(e,t){return!i.exports.isValidElement(e)||"key"in e&&null!==e.key?e:i.exports.cloneElement(e,{key:"".concat("rc-observer-key","-").concat(t)})}))}}]),r}(i.exports.Component);M.displayName="ResizeObserver";var W,U,H,j="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",B=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],K={};function L(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&K[r])return K[r];var n=window.getComputedStyle(e),a=n.getPropertyValue("box-sizing")||n.getPropertyValue("-moz-box-sizing")||n.getPropertyValue("-webkit-box-sizing"),o=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),i=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width")),s=B.map((function(e){return"".concat(e,":").concat(n.getPropertyValue(e))})).join(";"),l={sizingStyle:s,paddingSize:o,borderSize:i,boxSizing:a};return t&&r&&(K[r]=l),l}(H=U||(U={}))[H.NONE=0]="NONE",H[H.RESIZING=1]="RESIZING",H[H.RESIZED=2]="RESIZED";var Z=function(r){n(u,r);var l=a(u);function u(r){var n;return o(this,u),(n=l.call(this,r)).nextFrameActionId=void 0,n.resizeFrameId=void 0,n.textArea=void 0,n.saveTextArea=function(e){n.textArea=e},n.handleResize=function(e){var t=n.state.resizeStatus,r=n.props,a=r.autoSize,o=r.onResize;t===U.NONE&&("function"==typeof o&&o(e),a&&n.resizeOnNextFrame())},n.resizeOnNextFrame=function(){cancelAnimationFrame(n.nextFrameActionId),n.nextFrameActionId=requestAnimationFrame(n.resizeTextarea)},n.resizeTextarea=function(){var e=n.props.autoSize;if(e&&n.textArea){var t=e.minRows,r=e.maxRows,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;W||((W=document.createElement("textarea")).setAttribute("tab-index","-1"),W.setAttribute("aria-hidden","true"),document.body.appendChild(W)),e.getAttribute("wrap")?W.setAttribute("wrap",e.getAttribute("wrap")):W.removeAttribute("wrap");var a=L(e,t),o=a.paddingSize,i=a.borderSize,s=a.boxSizing,l=a.sizingStyle;W.setAttribute("style","".concat(l,";").concat(j)),W.value=e.value||e.placeholder||"";var u,c=Number.MIN_SAFE_INTEGER,p=Number.MAX_SAFE_INTEGER,d=W.scrollHeight;if("border-box"===s?d+=i:"content-box"===s&&(d-=o),null!==r||null!==n){W.value=" ";var f=W.scrollHeight-o;null!==r&&(c=f*r,"border-box"===s&&(c=c+o+i),d=Math.max(c,d)),null!==n&&(p=f*n,"border-box"===s&&(p=p+o+i),u=d>p?"":"hidden",d=Math.min(p,d))}return{height:d,minHeight:c,maxHeight:p,overflowY:u,resize:"none"}}(n.textArea,!1,t,r);n.setState({textareaStyles:a,resizeStatus:U.RESIZING},(function(){cancelAnimationFrame(n.resizeFrameId),n.resizeFrameId=requestAnimationFrame((function(){n.setState({resizeStatus:U.RESIZED},(function(){n.resizeFrameId=requestAnimationFrame((function(){n.setState({resizeStatus:U.NONE}),n.fixFirefoxAutoScroll()}))}))}))}))}},n.renderTextArea=function(){var r=n.props,a=r.prefixCls,o=void 0===a?"rc-textarea":a,s=r.autoSize,l=r.onResize,u=r.className,d=r.disabled,f=n.state,v=f.textareaStyles,m=f.resizeStatus,x=c(n.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),b=e(o,u,t({},"".concat(o,"-disabled"),d));"value"in x&&(x.value=x.value||"");var g=h(h(h({},n.props.style),v),m===U.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return i.exports.createElement(M,{onResize:n.handleResize,disabled:!(s||l)},i.exports.createElement("textarea",p({},x,{className:b,style:g,ref:n.saveTextArea})))},n.state={textareaStyles:{},resizeStatus:U.NONE},n}return s(u,[{key:"componentDidMount",value:function(){this.resizeTextarea()}},{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(r){}}},{key:"render",value:function(){return this.renderTextArea()}}]),u}(i.exports.Component),G=function(e){n(r,e);var t=a(r);function r(e){var n;o(this,r),(n=t.call(this,e)).resizableTextArea=void 0,n.focus=function(){n.resizableTextArea.textArea.focus()},n.saveTextArea=function(e){n.resizableTextArea=e},n.handleChange=function(e){var t=n.props.onChange;n.setValue(e.target.value,(function(){n.resizableTextArea.resizeTextarea()})),t&&t(e)},n.handleKeyDown=function(e){var t=n.props,r=t.onPressEnter,a=t.onKeyDown;13===e.keyCode&&r&&r(e),a&&a(e)};var a=void 0===e.value||null===e.value?e.defaultValue:e.value;return n.state={value:a},n}return s(r,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return i.exports.createElement(Z,p({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),r}(i.exports.Component);function _(e,t){return E(e||"").slice(0,t).join("")}var q=i.exports.forwardRef((function(r,n){var a,o=r.prefixCls,s=r.bordered,l=void 0===s||s,u=r.showCount,f=void 0!==u&&u,v=r.maxLength,h=r.className,m=r.style,x=r.size,b=r.onCompositionStart,g=r.onCompositionEnd,y=r.onChange,w=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(r,["prefixCls","bordered","showCount","maxLength","className","style","size","onCompositionStart","onCompositionEnd","onChange"]),N=i.exports.useContext(z),I=N.getPrefixCls,k=N.direction,R=i.exports.useContext(d),V=i.exports.useRef(null),D=i.exports.useRef(null),M=i.exports.useState(!1),W=C(M,2),U=W[0],H=W[1],j=A(w.defaultValue,{value:w.value}),B=C(j,2),K=B[0],L=B[1],Z=function(e,t){void 0===w.value&&(L(e),null==t||t())},q=Number(v)>0,X=I("input",o);i.exports.useImperativeHandle(n,(function(){var e;return{resizableTextArea:null===(e=V.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,r;P(null===(r=null===(t=V.current)||void 0===t?void 0:t.resizableTextArea)||void 0===r?void 0:r.textArea,e)},blur:function(){var e;return null===(e=V.current)||void 0===e?void 0:e.blur()}}}));var Y=i.exports.createElement(G,p({},c(w,["allowClear"]),{className:e((a={},t(a,"".concat(X,"-borderless"),!l),t(a,h,h&&!f),t(a,"".concat(X,"-sm"),"small"===R||"small"===x),t(a,"".concat(X,"-lg"),"large"===R||"large"===x),a)),style:f?void 0:m,prefixCls:X,onCompositionStart:function(e){H(!0),null==b||b(e)},onChange:function(e){var t=e.target.value;!U&&q&&(t=_(t,v)),Z(t),O(e.currentTarget,e,y,t)},onCompositionEnd:function(e){H(!1);var t=e.currentTarget.value;q&&(t=_(t,v)),t!==K&&(Z(t),O(e.currentTarget,e,y,t)),null==g||g(e)},ref:V})),Q=F(K);U||!q||null!==w.value&&void 0!==w.value||(Q=_(Q,v));var J=i.exports.createElement(T,p({},w,{prefixCls:X,direction:k,inputType:"text",value:Q,element:Y,handleReset:function(e){var t,r;Z("",(function(){var e;null===(e=V.current)||void 0===e||e.focus()})),O(null===(r=null===(t=V.current)||void 0===t?void 0:t.resizableTextArea)||void 0===r?void 0:r.textArea,e,y)},ref:D,bordered:l,style:f?void 0:m}));if(f){var $=E(Q).length,ee="";return ee="object"===S(f)?f.formatter({count:$,maxLength:v}):"".concat($).concat(q?" / ".concat(v):""),i.exports.createElement("div",{className:e("".concat(X,"-textarea"),t({},"".concat(X,"-textarea-rtl"),"rtl"===k),"".concat(X,"-textarea-show-count"),h),style:m,"data-count":ee},J)}return J}));export{D as I,q as T};
